/* didAddPopup requires django's RelatedObjectLookups.js */function didAddPopup(a,b,c){var d=windowname_to_id(a.name);$("#"+d).trigger("didAddPopup",[html_unescape(b),html_unescape(c)]),a.close()}function checkCheckBox(a){$(a).attr("checked","checked")}function uncheckCheckBox(a){$(a).removeAttr("checked")}function isChecked(a){return $(a).is(":checked")}function highlightElement(a){a.parent().effect("highlight",{},2e3)}function handleResult(a,b){input_id=a.target.id,$("#"+input_id+"_hidden").val(b.item.pk),$("#"+input_id+"_val").val(b.item.value),$("#"+input_id+"_clear").show();if($(b.item).attr("autofill")!=undefined)for(field in b.item.autofill)split="-",replace=input_id.split(split),replace.length==1?replace="id_"+field:(replace=replace.slice(0,-1),replace.push(field),replace=replace.join(split)),replace="#"+replace,new_val=b.item.autofill[field],$(replace).attr("type")=="checkbox"?(checked=isChecked(replace),checked!=new_val&&(new_val==0?uncheckCheckBox(replace):checkCheckBox(replace),highlightElement($(replace)))):(old_val=$(replace).val(),new_val===null&&(new_val=""),old_val!=new_val&&highlightElement($(replace).val(new_val)))}function handleChange(a,b){val_id=this.id+"_val",$("#"+val_id).val()!=$(this).val()&&(hidden_id=this.id+"_hidden",clear_id=this.id+"_clear",$(this).val(""),$(this).change(),$("#"+hidden_id).val(""),$("#"+val_id).val(""),$("#"+clear_id).hide())}var AUTOCOMPLETE_OPTIONS={};$(document).ready(function(){$("body").delegate(".ajax-clearfield img","mouseenter",function(){$(this).attr("src",STATIC_URL+"ajax_select/img/deleteover.png")}),$("body").delegate(".ajax-clearfield img","mouseleave",function(){$(this).attr("src",STATIC_URL+"ajax_select/img/delete.png")}),$("body").delegate(".ajax-clearfield","click",function(){input_id=this.id,input_id=input_id.replace("_clear",""),$("#"+input_id).val(""),$("#"+input_id).change(),$("#"+input_id+"_hidden").val(""),$(this).hide()}),$("body").delegate(".ajax-input","didAddPopup",function(a,b,c){data={},data.item={},data.item.pk=b,data.item.value=c,handleResult(a,data),$(a.target).val(data.item.value)}),$(".ajax-clearfield").each(function(){input_id=this.id,input_id=input_id.replace("_clear",""),$("#"+input_id).val()||$(this).hide()})});